{"version":3,"sources":["../../src/utils.js","../../src/styled.js","../../src/index.js","App.js","index.js"],"names":["getMonthDiff","months","startDate","endDate","year","month","YearWrapper","styled","div","_t","YearLabel","_t2","YearInnerWrapper","_t3","YearVerticalLine","_t4","TimelineWrapper","attrs","props","lightTheme","_t5","itemsCount","TimelineItemTag","_t6","TimelineItem","item","color","_t7","hex","alpha","parseInt","slice","hexToRGB","_props$item2","_props$item3","_props$item4","monthLength","order","startMonth","_props$item7","TimelineStickyContent","_t8","Timeline","data","yearsSet","Set","forEach","x","add","split","at","minInYearsSet","Math","min","maxInYearsSet","max","currentYear","Date","getFullYear","maxYear","yearsArray","filteredData","filter","Number","map","indexOf","push","items","React","length","key","_x$items","y","title","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5660e52f.chunk.js","sourcesContent":["export const getMonthDiff = ({ startDate, endDate }) => {\n  let months;\n  months = (endDate?.year - startDate?.year) * 12;\n  months -= startDate?.month;\n  months += endDate?.month;\n  return months <= 0 ? 0 : months;\n}\n\nexport const hexToRGB = ({ hex, alpha }) => {\n  const r = parseInt(hex.slice(1, 3), 16);\n  const g = parseInt(hex.slice(3, 5), 16);\n  const b = parseInt(hex.slice(5, 7), 16);\n\n  return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n}","import styled from 'styled-components';\nimport { hexToRGB } from './utils';\n\n// ширина 1 месяца в пикселях, 1 год по макету занимает 270px\nconst monthCssWidth = 270 / 12;\n// высота одного элемента на таймлайне\nconst itemCssHeight = 34;\n// Отступ снизу у элементов на Timeline\nconst itemCssMarginBottom = 10\n\nexport const YearWrapper = styled.div`\n  flex-basis: 270px;\n  flex-grow: 0;\n  flex-shrink: 0;\n`;\n\nexport const YearLabel = styled.div`\n  font-weight: 500;\n  font-size: 16px;\n  margin-left: -20px;\n`;\n\nexport const YearInnerWrapper = styled.div`\n  position: relative;\n`;\n\nexport const YearVerticalLine = styled.div`\n  width: 1px;\n  margin-top: 48px;\n`;\nexport const TimelineWrapper = styled.div.attrs(props => ({\n  lightTheme: props?.lightTheme || false\n}))`\n  display: flex;\n  overflow-x: scroll;\n  padding-left: 20px;\n  \n  ${YearLabel}{\n    color: ${props => props?.lightTheme ?\n      'rgba(0, 0, 0, 0.3)' :\n      'rgba(255, 255, 255, 0.3)'\n    };\n  };\n  ${YearVerticalLine}{\n    height: ${props => (itemCssHeight + itemCssMarginBottom) * props?.itemsCount}px;\n    background: ${props => props?.lightTheme ?\n      'rgba(0, 0, 0, 0.3)' :\n      'rgba(255, 255, 255, 0.3)'\n    };\n  };\n`;\n\nexport const TimelineItemTag = styled.div`\n  width: 6px;\n  height: 100%;\n  margin-right: 12px;\n  border-radius: 4px;\n`;\n\nexport const TimelineItem = styled.div.attrs(props => ({\n  item: {\n    ...props?.item,\n    color: props?.item?.color || '#ffffff'\n  }\n}))`\n  box-sizing: border-box;\n  position: absolute;\n  z-index: 1;\n  height: ${itemCssHeight}px;\n  border-radius: 4px;\n  padding: 3px;\n  font-weight: 600;\n  font-size: 14px;\n  background: ${props => hexToRGB({ hex: props?.item?.color, alpha: 0.5 })};\n  color: ${props => props?.item?.color};\n  width: ${props => monthCssWidth * props?.item?.monthLength}px;\n  top: ${props => (itemCssHeight + itemCssMarginBottom) * (props?.item?.order - 1)}px;\n  left: ${props => props?.item?.startMonth / 12 * 100}%;\n  padding-right: 20px;\n\n  ${TimelineItemTag}{\n    background: ${props => props?.item?.color};\n  }\n`;\n\nexport const TimelineStickyContent = styled.div`\n  height: 100%;\n  position: sticky;\n  left: -20px;\n  display: flex;\n  align-items: center;\n  width: fit-content;\n`\n","import React from 'react'\nimport { getMonthDiff } from './utils';\nimport {\n  TimelineWrapper,\n  YearWrapper,\n  YearLabel,\n  YearInnerWrapper,\n  YearVerticalLine,\n  TimelineItem,\n  TimelineItemTag,\n  TimelineStickyContent\n} from './styled';\n\nexport const Timeline = ({ data = [], lightTheme = false }) => {\n  // Составляем список уникальных значений из data.startYear и data.endYear\n  let yearsSet = new Set();\n\n  data.forEach(x => {\n    yearsSet.add(x?.startDate.split('.').at(1))\n    yearsSet.add(x?.endDate.split('.').at(1))\n  });\n\n  // Находим минимальное, максимальное и текущее значение года\n  const minInYearsSet = Math.min(...yearsSet);\n  const maxInYearsSet = Math.max(...yearsSet);\n  const currentYear = new Date().getFullYear();\n  const minYear = minInYearsSet;\n  const maxYear = maxInYearsSet < currentYear ? currentYear : maxInYearsSet;\n\n  // Составляем массив годов от минимального (data.startDate) до максимального (data.endDate)\n  // если максимальное значение в data.endDate меньше чем текущий год, то строим массив до текущего года\n  // и помещаем необходимые данные из data в нужный год\n  let yearsArray = [];\n  for (let year = minYear; year <= maxYear; year++) {\n    // находим данные для года, по которому проходим циклом\n    // и считаем количество месяцев между data.startDate и data.endDate\n    const filteredData = data.filter(x => Number(x?.startDate.split('.').at(1)) === year)\n      .map(x => ({\n        ...x,\n        monthLength: getMonthDiff({\n          startDate: { year: Number(x?.startDate.split('.').at(1)), month: Number(x?.startDate.split('.').at(0)) },\n          endDate: { year: Number(x?.endDate.split('.').at(1)), month: Number(x?.endDate.split('.').at(0)) }\n        }),\n        startMonth: Number(x?.startDate.split('.').at(0)),\n        order: x?.order || (data?.indexOf(x) + 1)\n      }));\n    // записываем в массив с годами\n    yearsArray.push({\n      year,\n      items: filteredData\n    })\n  };\n  return (\n    <TimelineWrapper lightTheme={lightTheme} itemsCount={data?.length}>\n      {yearsArray?.map(x =>\n        <YearWrapper key={x?.year}>\n          <YearLabel>{x?.year}</YearLabel>\n          <YearInnerWrapper>\n            <YearVerticalLine />\n            {x?.items?.map(y =>\n              <TimelineItem key={y?.title} item={y}>\n                <TimelineStickyContent>\n                  <TimelineItemTag />\n                  {y?.title}\n                </TimelineStickyContent>\n              </TimelineItem>\n            )}\n          </YearInnerWrapper>\n        </YearWrapper>\n      )}\n    </TimelineWrapper>\n  );\n};\n\n/** TODO\n * фиксировать названия элементов при скролле\n * babel\n */","import React from 'react'\nimport './styles.module.css';\n\nimport { Timeline } from 'react-fancy-timeline'\n\nconst data = [\n  {\n    title: 'React (senior)',\n    startDate: '06.2010',\n    endDate: '06.2017',\n    color: '#61DAFB'\n  },\n  {\n    title: 'JS',\n    startDate: '06.2013',\n    endDate: '10.2015',\n    color: '#FFDF00'\n  },\n  {\n    title: 'HTML',\n    startDate: '04.2007',\n    endDate: '01.2010',\n    color: '#ff6262'\n  },\n  {\n    title: 'CSS',\n    startDate: '09.2007',\n    endDate: '04.2009',\n    color: '#CC649C'\n  },\n]\n\nconst App = () => {\n  return <Timeline data={data} />\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}